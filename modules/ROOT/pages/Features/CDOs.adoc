= Content Default Object Modification

[NOTE]
====
You can find a WIP xref:Reference/JsonSchema.adoc[JSON Schema] for CDOs https://github.com/budak7273/ContentLib_Documentation/tree/main/JsonSchemas[here].
====

You can also use ContentLib to perform (Class Default Object) CDO edits.

This is an advanced feature that can modify fields on pretty much any asset, as long as you know where the asset is and what field to look for. It's possible to do a lot of cool things with this feature, but also **cause a lot of crashes** if you don't know what you're doing.

It can also do things like change the parent classes of blueprint assets.

To learn more about what a CDO is, see xref:https://docs.unrealengine.com/4.26/en-US/ProgrammingAndScripting/ProgrammingWithCPP/UnrealArchitecture/Objects/[this] Unreal Engine documentation page.

In order to find the names of fields, you probably will need to either have a set up modding project, and/or look at the C++ headers shipped with the game. Experimentation will be required to find out what fields do what.

You can attempt to hot reload CDOs via the button on the Mod Configuration screen, or the `/CLCDOReload` chat command. *Hot reloading is a WIP feature*, and could work, have no effect, or possibly even crash you depending on the fields you are modifying.

There are no restrictions on the name for CDO json files.

[WARNING]
====
Remember that CDOs need to go in the correct xref:BackgroundInfo/FolderNames.adoc[Folder].
====

== JSON Examples

=== Rename an Item

This renames Caterium Ingots to Gold Ingots. The mInventoryIcon TintColor modifications don't seem to be working, but I don't think they work even if set up through normal means.

This is an example of a CDO edit that works with hot reloading.

image:https://i.imgur.com/FIyBHQB.png[Gold example]

```json
{
  "Class": "/Game/FactoryGame/Resource/Parts/GoldIngot/Desc_GoldIngot.Desc_GoldIngot_C",
  "Edits": [
    {
      "Property": "mDisplayName",
      "Value": "Gold Ingot"
    },
    {
      "Property": "mInventoryIcon",
      "Value": {
        "ImageSize": {
          "X": 255,
          "Y": 255
        },
        "Margin": {
          "Left": 0,
          "Top": 0,
          "Right": 0,
          "Bottom": 0
        },
        "TintColor": {
          "SpecifiedColor": {
            "R": 1,
            "G": 0,
            "B": 0,
            "A": 1
          },
          "ColorUseRule": 0
        }
      }
    }
  ]
}
```

=== Recipe Ingredients Quantity Change

```json
{
  "Class": "/Game/FactoryGame/Recipes/Blender/Recipe_FusedModularFrame.Recipe_FusedModularFrame_C",
  "Edits": [
    {
      "Property": "mIngredients",
      "Value": [
        {
          "ItemClass": "/Game/FactoryGame/Resource/Parts/ModularFrameHeavy/Desc_ModularFrameHeavy.Desc_ModularFrameHeavy_C",
          "Amount": 643
        },
        {
          "ItemClass": "/Game/FactoryGame/Resource/Parts/AluminumCasing/Desc_AluminumCasing.Desc_AluminumCasing_C",
          "Amount": 245
        },
        {
          "ItemClass": "/Game/FactoryGame/Resource/RawResources/NitrogenGas/Desc_NitrogenGas.Desc_NitrogenGas_C",
          "Amount": 123
        }
      ]
    }
  ]
}
```

=== Change Material Parent Class

```json
{
  "Class": "/Game/FactoryGame/-Shared/Material/MI_Factory_Base_01.MI_Factory_Base_01",
  "Edits": [
    {
      "Property": "Parent",
      "Value": "/AdaptingGenerators/Assets/MM_FactoryCopy.MM_FactoryCopy"
    }
  ]
}
```

== Blueprint Library

Perform your own CDO modifications directly with `UCLCDOBPFLib::GenerateCLCDOFromString` or `UCLCDOBPFLib::EditCDO`. See the `CL_CDO_Module`` blueprint asset for examples of GenerateCLCDOFromString.
